<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Colorful Tricky Puzzle Game</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f8ff;
      text-align: center;
      padding: 50px;
    }

    .container {
      background-color: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    h1 {
      color: #4169e1;
      font-size: 36px;
    }

    p {
      font-size: 18px;
      color: #333;
    }

    input {
      padding: 10px;
      font-size: 16px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    button {
      background-color: #28a745;
      color: white;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin: 5px;
    }

    button:hover {
      background-color: #218838;
    }

    #result {
      margin-top: 20px;
      font-size: 20px;
    }

    #shareBtn {
      background-color: #25D366;
    }

    #submitBtn {
      background-color: #007bff;
    }

    #submitBtn:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }

    /* CSS for pop-up notification */
    .popup {
      display: none;
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      z-index: 1000;
    }

    .popup h2 {
      margin: 0 0 10px;
      color: #333;
    }

    .popup button {
      background-color: #4169e1;
    }

    .overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 999;
    }

    /* CSS for invite guide */
    .inviteGuide {
      display: none;
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      z-index: 1000;
    }

    .social-button {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 10px;
      margin: 5px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }

    .whatsapp {
      background-color: #25D366;
      color: white;
    }

    .x {
      background-color: #1DA1F2;
      color: white;
    }

    .social-icon {
      width: 20px;
      height: 20px;
      margin-right: 5px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Crack the Code Puzzle!</h1>
    <p id="puzzleText">The puzzle:</p>
    <p id="currentPuzzleClue"></p>
    <p>Enter the 3-digit code:</p>
    <input type="text" id="userGuess" maxlength="3" placeholder="Enter code (e.g. 123)">
    <button id="submitBtn">Submit</button>
    <p id="result"></p>
    
    <!-- Share Button for WhatsApp -->
    <button id="shareBtn" style="display:none;">Share on Social Media</button>
  </div>

  <div class="overlay" id="overlay"></div>
  <div class="popup" id="popup">
    <h2>Follow Me for More Puzzles!</h2>
    <p>Click the button below to follow me on X.</p>
    <button id="followBtn">Follow on X</button>
    <button id="closePopup">Close</button>
  </div>

  <div class="overlay" id="inviteOverlay"></div>
  <div class="inviteGuide" id="inviteGuide">
    <h2>Invite Your Friends!</h2>
    <p>Share this game with your friends and challenge them to solve the puzzles!</p>
    <p>Send them the link to join the fun and see who can solve it the fastest!</p>
    <button id="closeInvite">Close</button>
  </div>

  <script>
    // Puzzle data
    let puzzles = [
      { clue: "The sum of the digits is 10. The first digit is twice the second digit, and the third digit is equal to the first.", solution: "451" },
      { clue: "The second digit is 2 more than the first. The third digit is the first digit plus 1. The sum of all digits is 9.", solution: "243" },
      { clue: "The third digit is 4 less than the first. The second digit is half the first. The sum of all digits is 10.", solution: "631" },
      { clue: "The first and second digits are equal. The third digit is 2 more than the first. The sum of all digits is 12.", solution: "442" },
      { clue: "The second digit is 2 more than the first. The third digit is equal to the first digit. The sum of all digits is 11.", solution: "352" }
    ];

    let currentPuzzle = 0;
    let solvedPuzzles = 0;
    let failedAttempts = 0;

    // Function to check the guess
    function checkGuess(guess) {
      let correctCode = puzzles[currentPuzzle].solution;
      if (guess === correctCode) {
        solvedPuzzles++;
        document.getElementById("result").innerHTML = "âœ… Correct! Moving on to the next puzzle.";
        failedAttempts = 0;
        currentPuzzle++;
        if (solvedPuzzles >= 5) {
          document.getElementById("result").innerHTML = "ðŸŽ‰ Congratulations! You've solved all 5 puzzles!";
          document.getElementById("userGuess").disabled = true;
          document.getElementById("submitBtn").disabled = true;

          // Show the pop-up notification
          document.getElementById("overlay").style.display = "block";
          document.getElementById("popup").style.display = "block";

        } else {
          setTimeout(loadNextPuzzle, 2000);
        }
      } else {
        failedAttempts++;
        document.getElementById("result").innerHTML = `âŒ Incorrect. Try again! (${failedAttempts}/3 attempts)`;
        if (failedAttempts >= 3) {
          document.getElementById("submitBtn").style.display = 'none';
          document.getElementById("shareBtn").style.display = 'block';
          showShareOptions();
        }
      }
    }

    // Function to load the next puzzle
    function loadNextPuzzle() {
      if (currentPuzzle < puzzles.length) {
        document.getElementById("puzzleText").innerHTML = "The puzzle:";
        document.getElementById("currentPuzzleClue").innerHTML = puzzles[currentPuzzle].clue; 
        document.getElementById("userGuess").value = "";  
        document.getElementById("result").innerHTML = "";  
        document.getElementById("submitBtn").style.display = 'inline';  
        document.getElementById("shareBtn").style.display = 'none';  
      }
    }

    // Event listener for the Submit button
    document.getElementById("submitBtn").addEventListener("click", function() {
      const guess = document.getElementById("userGuess").value;

      if (guess.length !== 3 || isNaN(guess)) {
        document.getElementById("result").innerHTML = "Please enter a valid 3-digit number.";
        return;
      }

      checkGuess(guess);
    });

    // Function to show sharing options
    function showShareOptions() {
      const shareOptionsHTML = `
        <h2>Share this puzzle!</h2>
        <button class="social-button whatsapp" onclick="shareOnWhatsApp()">
          
          
          <img class="social-icon" src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp Logo">
          Share on WhatsApp
        </button>
        <button class="social-button x" onclick="shareOnX()">
          <img class="social-icon" src="https://images.app.goo.gl/nNVMr9fcoUHj6Zsv7" alt="X Logo">
          Share on X
        </button>
      `;
      document.getElementById("result").innerHTML = shareOptionsHTML;
    }

    // Function to share on WhatsApp
    function shareOnWhatsApp() {
      const message = "I just solved a puzzle! It looks to be so logical.Can you crack it? Join the game!";
      const url = "https://example.com"; // Replace with your game URL
      window.open(`https://wa.me/?text=${encodeURIComponent(message + " " + url)}`, '_blank');
    }

    // Function to share on X
    function shareOnX() {
      const message = "I just solved a puzzle! It was so tricky.Can you crack it? Join the game!";
      const url = "https://example.com"; // Replace with your game URL
      window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(message + " " + url)}`, '_blank');
    }

    // Event listener for follow button
    document.getElementById("followBtn").addEventListener("click", function() {
      window.open("https://twitter.com/your_profile", '_blank'); // Replace with your X profile link
    });

    // Event listeners for closing the pop-up and invite guide
    document.getElementById("closePopup").addEventListener("click", function() {
      document.getElementById("overlay").style.display = "none";
      document.getElementById("popup").style.display = "none";
    });

    document.getElementById("closeInvite").addEventListener("click", function() {
      document.getElementById("inviteOverlay").style.display = "none";
      document.getElementById("inviteGuide").style.display = "none";
    });

    // Load the first puzzle on page load
    loadNextPuzzle();
  </script>
</body>
</html>
